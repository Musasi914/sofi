# About

以下を参考にし、gsap,three.js の練習として作成。

https://www.sofihealth.com/

# Notice

以下注意/気づき/学習
「--host」でスマホ,iPad も見ながら調節。

## スマホの動作

めちゃくちゃもっさり。
タッチデバイスのとき ScrollSmoother を無効にしても、もっさりしてる気がする.

上下にスワイプしたときにアドレスバーの高さで画面が一瞬止まり、カクつく。100svh がいいと学んだ気がするのだが、カクつかない 100vh(100lvh)のほうがいいんじゃないと思う。

overflow:hidden から、contain: paint にした。

ScrollSmoother を一周回って有効にしたら良くなった。

スマホ時は斧を右に移動させ、テキストを左に移動しちゃんと見やすくした。たまたまタイミングうまく言ってなかなかお気に入り。

## GLTF モデルの使い回し

違う Canvas で同じ GLTF モデルを使うとき、
gltf.clone()を使う。
直接同じものを渡しても機能しない。

## 　アニメーション

大きい文字が左へ流れていく箇所は、left: 100vw においといて、timeline で別々に動かせばよい

2 番目の pin の section では、scrub イベントと gsap の自動アニメーションが混在していたため、普通には不可能だった。
animation:timeline で scrub のアニメーション、onEnter や onUpdate で自動のアニメーションを作ったが、思い返せばすべて onUpdate でいいかもしれない。

ただ、正しい構築の方法とは思えないので、ベストプラクティスを知りたい。gsap の教材ないんだよなあ。

結構無理やり組み合わせたせいで、timeline の後半はどうでもいいアニメーションを duration:9 とかでごまかすことになった。

## iPad での動作

一番最初のテキストのアニメーションで、PC と iPhone では問題なしだが、iPad では崩れまくった。
灰文字は p,出現する白文字は h2 で書いてたのが原因で、両方 p にしたら治った。
iPad はなんか要素によって違うのか...
